/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');

/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

obsidian.addIcon('enlightenment-sparkles', `<?xml version='1.0' encoding='UTF-8' standalone='no'?>) // Torch icon modified from Flat Icon/Freepik: https://www.flaticon.com/free-icon/shines_764690?term=shine&page=1&position=5&page=1&position=5&related_id=764690&origin=search
<!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'>
<svg viewBox='0 0 100 100'>
<path fill='currentColor' stroke='currentColor' d='M57.974,27.418c-11.745,-2.462 -20.925,-11.642 -23.386,-23.387c-0.303,-1.441 -1.574,-2.474 -3.048,-2.474c-1.473,0 -2.745,1.033 -3.047,2.475c-2.462,11.744 -11.642,20.924 -23.387,23.386c-1.441,0.302 -2.474,1.574 -2.474,3.047c0,1.473 1.032,2.745 2.474,3.047c11.745,2.462 20.924,11.642 23.386,23.387c0.302,1.442 1.574,2.475 3.048,2.475c1.473,0 2.745,-1.033 3.047,-2.475c2.462,-11.745 11.642,-20.925 23.387,-23.386c1.442,-0.302 2.475,-1.574 2.475,-3.047c-0.001,-1.474 -1.033,-2.746 -2.475,-3.048Z'/>
<path fill='currentColor' stroke='currentColor' d='M52.827,78.855c-5.534,-1.16 -9.859,-5.485 -11.019,-11.019c-0.302,-1.442 -1.574,-2.475 -3.047,-2.475c-1.474,0 -2.746,1.033 -3.048,2.475c-1.16,5.533 -5.485,9.859 -11.019,11.018c-1.442,0.303 -2.475,1.575 -2.475,3.048c0,1.473 1.033,2.745 2.475,3.047c5.534,1.16 9.859,5.485 11.019,11.019c0.302,1.442 1.574,2.475 3.047,2.475c1.474,0 2.745,-1.033 3.048,-2.475c1.16,-5.534 5.485,-9.859 11.019,-11.019c1.442,-0.302 2.475,-1.574 2.475,-3.047c0,-1.473 -1.033,-2.745 -2.475,-3.047Z'/>
<path fill='currentColor' stroke='currentColor' d='M94.894,50.026c-7.48,-1.568 -13.326,-7.415 -14.894,-14.894c-0.302,-1.442 -1.573,-2.475 -3.047,-2.475c-1.473,0 -2.745,1.033 -3.047,2.475c-1.568,7.479 -7.414,13.325 -14.894,14.893c-1.442,0.302 -2.475,1.574 -2.475,3.048c0,1.473 1.033,2.745 2.475,3.047c7.48,1.568 13.326,7.414 14.893,14.893c0.303,1.442 1.574,2.475 3.048,2.475c1.473,0 2.745,-1.032 3.047,-2.475c1.568,-7.479 7.414,-13.325 14.894,-14.893c1.441,-0.302 2.474,-1.574 2.474,-3.047c0,-1.473 -1.032,-2.745 -2.474,-3.047Z'/>
`);
const DEFAULT_SETTINGS = {
    backgroundTransparency: .7,
    focusOpacity: 1
};
class EnlightenmentPlugin extends obsidian.Plugin {
    constructor() {
        super(...arguments);
        this.cycleEnlightenmentMode = () => {
            const allPanesEnlightenment = document.body.hasClass('plugin-enlightenment-all-panes');
            const activePaneEnlightenment = document.body.hasClass('plugin-enlightenment-active-pane');
            const inactivePanesEnlightenment = document.body.hasClass('plugin-enlightenment-inactive-panes');
            if (allPanesEnlightenment) {
                this.changeEnlightenmentMode('active-pane');
            }
            else if (activePaneEnlightenment) {
                this.changeEnlightenmentMode('inactive-panes');
            }
            else if (inactivePanesEnlightenment) {
                this.changeEnlightenmentMode('none');
            }
            else {
                this.changeEnlightenmentMode('all-panes');
            }
        };
        this.changeEnlightenmentMode = (someEnlightenmentType) => {
            const bodyElement = document.body;
            bodyElement.removeClasses(['plugin-enlightenment-all-panes', 'plugin-enlightenment-active-pane', 'plugin-enlightenment-inactive-panes']);
            if (someEnlightenmentType == 'all-panes') {
                bodyElement.addClass('plugin-enlightenment-all-panes');
                new obsidian.Notice("Enlightenment enabled across all panes.");
            }
            else if (someEnlightenmentType == 'active-pane') {
                bodyElement.addClass('plugin-enlightenment-active-pane');
                new obsidian.Notice("Enlightenment enabled only for the active pane.");
            }
            else if (someEnlightenmentType == 'inactive-panes') {
                bodyElement.addClass('plugin-enlightenment-inactive-panes');
                new obsidian.Notice("Enlightenment enabled only for inactive panes.");
            }
            else if (someEnlightenmentType == 'none') {
                new obsidian.Notice("Enlightenment disabled.");
            }
        };
    }
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            console.debug('Loading the Enlightenment plugin v1.2.1.');
            yield this.loadSettings();
            let root = document.documentElement;
            root.style.setProperty('--enlightenment-background-transparency', this.settings.backgroundTransparency.toString());
            root.style.setProperty('--enlightenment-focus-opacity', this.settings.focusOpacity.toString());
            this.addRibbonIcon('enlightenment-sparkles', 'Cycle through Enlightenment modes (off, across all panes, or the active pane only)', () => {
                this.cycleEnlightenmentMode();
            });
            this.addCommand({
                id: 'enable-enlightenment',
                name: 'Enable Enlightenment (across all panes)',
                callback: () => {
                    this.changeEnlightenmentMode('all-panes');
                }
            });
            this.addCommand({
                id: 'enable-enlightenment-active-pane',
                name: 'Enable Enlightenment (only on the active pane)',
                callback: () => {
                    this.changeEnlightenmentMode('active-pane');
                }
            });
            this.addCommand({
                id: 'enable-enlightenment-inactive-panes',
                name: 'Enable Enlightenment (only on inactive panes)',
                callback: () => {
                    this.changeEnlightenmentMode('inactive-panes');
                }
            });
            this.addCommand({
                id: 'disable-enlightenment',
                name: 'Disable Enlightenment',
                callback: () => {
                    this.changeEnlightenmentMode('none');
                }
            });
            this.addSettingTab(new EnlightenmentSettingsTab(this.app, this));
        });
    }
    onunload() {
        console.debug('Unloading the Enlightenment plugin.');
        this.changeEnlightenmentMode("none");
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
        });
    }
}
class EnlightenmentSettingsTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        let { containerEl } = this;
        containerEl.empty();
        containerEl.createEl('h2', { text: 'Enlightenment Settings' });
        new obsidian.Setting(containerEl)
            .setName('Background Transparency')
            .setDesc('Set the transparency for items in the background. The default is .7, as in "70%". (0 = 0%, 1 = 100%.).')
            .addSlider(slider => slider
            .setDynamicTooltip()
            .setLimits(0, 1, .05)
            .setValue(this.plugin.settings.backgroundTransparency)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.backgroundTransparency = (value);
            let root = document.documentElement;
            root.style.setProperty('--enlightenment-background-transparency', value.toString());
            console.debug(root.style.getPropertyValue("--enlightenment-background-transparency"));
            this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Focus Opacity')
            .setDesc('Set the opacity for items you\'re focusing on. The default is 1, as in "100%". (.5 = 50%).')
            .addSlider(slider => slider
            .setDynamicTooltip()
            .setLimits(0, 1, .05)
            .setValue(this.plugin.settings.focusOpacity)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.focusOpacity = (value);
            let root = document.documentElement;
            root.style.setProperty('--enlightenment-focus-opacity', value.toString());
            console.debug(root.style.getPropertyValue("--enlightenment-focus-opacity"));
            this.plugin.saveSettings();
        })));
    }
}

module.exports = EnlightenmentPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIm1haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xyXG4gICAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XHJcbiAgICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xyXG59XHJcbiIsImltcG9ydCB7IGFkZEljb24sIEFwcCwgUGx1Z2luLCBOb3RpY2UsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIFNsaWRlckNvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmFkZEljb24oJ2VubGlnaHRlbm1lbnQtc3BhcmtsZXMnLCBgPD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnIHN0YW5kYWxvbmU9J25vJz8+KSAvLyBUb3JjaCBpY29uIG1vZGlmaWVkIGZyb20gRmxhdCBJY29uL0ZyZWVwaWs6IGh0dHBzOi8vd3d3LmZsYXRpY29uLmNvbS9mcmVlLWljb24vc2hpbmVzXzc2NDY5MD90ZXJtPXNoaW5lJnBhZ2U9MSZwb3NpdGlvbj01JnBhZ2U9MSZwb3NpdGlvbj01JnJlbGF0ZWRfaWQ9NzY0NjkwJm9yaWdpbj1zZWFyY2hcclxuPCFET0NUWVBFIHN2ZyBQVUJMSUMgJy0vL1czQy8vRFREIFNWRyAxLjEvL0VOJyAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz5cclxuPHN2ZyB2aWV3Qm94PScwIDAgMTAwIDEwMCc+XHJcbjxwYXRoIGZpbGw9J2N1cnJlbnRDb2xvcicgc3Ryb2tlPSdjdXJyZW50Q29sb3InIGQ9J001Ny45NzQsMjcuNDE4Yy0xMS43NDUsLTIuNDYyIC0yMC45MjUsLTExLjY0MiAtMjMuMzg2LC0yMy4zODdjLTAuMzAzLC0xLjQ0MSAtMS41NzQsLTIuNDc0IC0zLjA0OCwtMi40NzRjLTEuNDczLDAgLTIuNzQ1LDEuMDMzIC0zLjA0NywyLjQ3NWMtMi40NjIsMTEuNzQ0IC0xMS42NDIsMjAuOTI0IC0yMy4zODcsMjMuMzg2Yy0xLjQ0MSwwLjMwMiAtMi40NzQsMS41NzQgLTIuNDc0LDMuMDQ3YzAsMS40NzMgMS4wMzIsMi43NDUgMi40NzQsMy4wNDdjMTEuNzQ1LDIuNDYyIDIwLjkyNCwxMS42NDIgMjMuMzg2LDIzLjM4N2MwLjMwMiwxLjQ0MiAxLjU3NCwyLjQ3NSAzLjA0OCwyLjQ3NWMxLjQ3MywwIDIuNzQ1LC0xLjAzMyAzLjA0NywtMi40NzVjMi40NjIsLTExLjc0NSAxMS42NDIsLTIwLjkyNSAyMy4zODcsLTIzLjM4NmMxLjQ0MiwtMC4zMDIgMi40NzUsLTEuNTc0IDIuNDc1LC0zLjA0N2MtMC4wMDEsLTEuNDc0IC0xLjAzMywtMi43NDYgLTIuNDc1LC0zLjA0OFonLz5cclxuPHBhdGggZmlsbD0nY3VycmVudENvbG9yJyBzdHJva2U9J2N1cnJlbnRDb2xvcicgZD0nTTUyLjgyNyw3OC44NTVjLTUuNTM0LC0xLjE2IC05Ljg1OSwtNS40ODUgLTExLjAxOSwtMTEuMDE5Yy0wLjMwMiwtMS40NDIgLTEuNTc0LC0yLjQ3NSAtMy4wNDcsLTIuNDc1Yy0xLjQ3NCwwIC0yLjc0NiwxLjAzMyAtMy4wNDgsMi40NzVjLTEuMTYsNS41MzMgLTUuNDg1LDkuODU5IC0xMS4wMTksMTEuMDE4Yy0xLjQ0MiwwLjMwMyAtMi40NzUsMS41NzUgLTIuNDc1LDMuMDQ4YzAsMS40NzMgMS4wMzMsMi43NDUgMi40NzUsMy4wNDdjNS41MzQsMS4xNiA5Ljg1OSw1LjQ4NSAxMS4wMTksMTEuMDE5YzAuMzAyLDEuNDQyIDEuNTc0LDIuNDc1IDMuMDQ3LDIuNDc1YzEuNDc0LDAgMi43NDUsLTEuMDMzIDMuMDQ4LC0yLjQ3NWMxLjE2LC01LjUzNCA1LjQ4NSwtOS44NTkgMTEuMDE5LC0xMS4wMTljMS40NDIsLTAuMzAyIDIuNDc1LC0xLjU3NCAyLjQ3NSwtMy4wNDdjMCwtMS40NzMgLTEuMDMzLC0yLjc0NSAtMi40NzUsLTMuMDQ3WicvPlxyXG48cGF0aCBmaWxsPSdjdXJyZW50Q29sb3InIHN0cm9rZT0nY3VycmVudENvbG9yJyBkPSdNOTQuODk0LDUwLjAyNmMtNy40OCwtMS41NjggLTEzLjMyNiwtNy40MTUgLTE0Ljg5NCwtMTQuODk0Yy0wLjMwMiwtMS40NDIgLTEuNTczLC0yLjQ3NSAtMy4wNDcsLTIuNDc1Yy0xLjQ3MywwIC0yLjc0NSwxLjAzMyAtMy4wNDcsMi40NzVjLTEuNTY4LDcuNDc5IC03LjQxNCwxMy4zMjUgLTE0Ljg5NCwxNC44OTNjLTEuNDQyLDAuMzAyIC0yLjQ3NSwxLjU3NCAtMi40NzUsMy4wNDhjMCwxLjQ3MyAxLjAzMywyLjc0NSAyLjQ3NSwzLjA0N2M3LjQ4LDEuNTY4IDEzLjMyNiw3LjQxNCAxNC44OTMsMTQuODkzYzAuMzAzLDEuNDQyIDEuNTc0LDIuNDc1IDMuMDQ4LDIuNDc1YzEuNDczLDAgMi43NDUsLTEuMDMyIDMuMDQ3LC0yLjQ3NWMxLjU2OCwtNy40NzkgNy40MTQsLTEzLjMyNSAxNC44OTQsLTE0Ljg5M2MxLjQ0MSwtMC4zMDIgMi40NzQsLTEuNTc0IDIuNDc0LC0zLjA0N2MwLC0xLjQ3MyAtMS4wMzIsLTIuNzQ1IC0yLjQ3NCwtMy4wNDdaJy8+XHJcbmApO1xyXG5cclxudHlwZSBFbmxpZ2h0ZW5tZW50VHlwZSA9IFwiYWxsLXBhbmVzXCIgfCBcImFjdGl2ZS1wYW5lXCIgfCBcImluYWN0aXZlLXBhbmVzXCIgfCBcIm5vbmVcIlxyXG5cclxuaW50ZXJmYWNlIEVubGlnaHRlbm1lbnRTZXR0aW5ncyB7XHJcblx0YmFja2dyb3VuZFRyYW5zcGFyZW5jeTogbnVtYmVyLFxyXG5cdGZvY3VzT3BhY2l0eTogbnVtYmVyXHJcbn1cclxuXHJcbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEVubGlnaHRlbm1lbnRTZXR0aW5ncyA9IHtcclxuXHRiYWNrZ3JvdW5kVHJhbnNwYXJlbmN5OiAuNyxcclxuXHRmb2N1c09wYWNpdHk6IDFcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVubGlnaHRlbm1lbnRQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cclxuXHRzZXR0aW5nczogRW5saWdodGVubWVudFNldHRpbmdzO1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHRjb25zb2xlLmRlYnVnKCdMb2FkaW5nIHRoZSBFbmxpZ2h0ZW5tZW50IHBsdWdpbiB2MS4yLjEuJyk7XHJcblxyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcblx0XHRsZXQgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuXHRcdHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tZW5saWdodGVubWVudC1iYWNrZ3JvdW5kLXRyYW5zcGFyZW5jeScsIHRoaXMuc2V0dGluZ3MuYmFja2dyb3VuZFRyYW5zcGFyZW5jeS50b1N0cmluZygpKTtcclxuXHRcdHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tZW5saWdodGVubWVudC1mb2N1cy1vcGFjaXR5JywgdGhpcy5zZXR0aW5ncy5mb2N1c09wYWNpdHkudG9TdHJpbmcoKSk7XHJcblxyXG5cclxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbignZW5saWdodGVubWVudC1zcGFya2xlcycsICdDeWNsZSB0aHJvdWdoIEVubGlnaHRlbm1lbnQgbW9kZXMgKG9mZiwgYWNyb3NzIGFsbCBwYW5lcywgb3IgdGhlIGFjdGl2ZSBwYW5lIG9ubHkpJywgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmN5Y2xlRW5saWdodGVubWVudE1vZGUoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnZW5hYmxlLWVubGlnaHRlbm1lbnQnLFxyXG5cdFx0XHRuYW1lOiAnRW5hYmxlIEVubGlnaHRlbm1lbnQgKGFjcm9zcyBhbGwgcGFuZXMpJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNoYW5nZUVubGlnaHRlbm1lbnRNb2RlKCdhbGwtcGFuZXMnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdlbmFibGUtZW5saWdodGVubWVudC1hY3RpdmUtcGFuZScsXHJcblx0XHRcdG5hbWU6ICdFbmFibGUgRW5saWdodGVubWVudCAob25seSBvbiB0aGUgYWN0aXZlIHBhbmUpJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNoYW5nZUVubGlnaHRlbm1lbnRNb2RlKCdhY3RpdmUtcGFuZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ2VuYWJsZS1lbmxpZ2h0ZW5tZW50LWluYWN0aXZlLXBhbmVzJyxcclxuXHRcdFx0bmFtZTogJ0VuYWJsZSBFbmxpZ2h0ZW5tZW50IChvbmx5IG9uIGluYWN0aXZlIHBhbmVzKScsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5jaGFuZ2VFbmxpZ2h0ZW5tZW50TW9kZSgnaW5hY3RpdmUtcGFuZXMnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdkaXNhYmxlLWVubGlnaHRlbm1lbnQnLFxyXG5cdFx0XHRuYW1lOiAnRGlzYWJsZSBFbmxpZ2h0ZW5tZW50JyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNoYW5nZUVubGlnaHRlbm1lbnRNb2RlKCdub25lJyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgRW5saWdodGVubWVudFNldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHRcdGNvbnNvbGUuZGVidWcoJ1VubG9hZGluZyB0aGUgRW5saWdodGVubWVudCBwbHVnaW4uJyk7XHJcblx0XHR0aGlzLmNoYW5nZUVubGlnaHRlbm1lbnRNb2RlKFwibm9uZVwiKTtcclxuXHR9XHJcblxyXG5cdGN5Y2xlRW5saWdodGVubWVudE1vZGUgPSAoKSA9PiB7XHJcblx0XHRjb25zdCBhbGxQYW5lc0VubGlnaHRlbm1lbnQgPSBkb2N1bWVudC5ib2R5Lmhhc0NsYXNzKCdwbHVnaW4tZW5saWdodGVubWVudC1hbGwtcGFuZXMnKTtcclxuXHRcdGNvbnN0IGFjdGl2ZVBhbmVFbmxpZ2h0ZW5tZW50ID0gZG9jdW1lbnQuYm9keS5oYXNDbGFzcygncGx1Z2luLWVubGlnaHRlbm1lbnQtYWN0aXZlLXBhbmUnKTtcclxuXHRcdGNvbnN0IGluYWN0aXZlUGFuZXNFbmxpZ2h0ZW5tZW50ID0gZG9jdW1lbnQuYm9keS5oYXNDbGFzcygncGx1Z2luLWVubGlnaHRlbm1lbnQtaW5hY3RpdmUtcGFuZXMnKTtcclxuXHRcdGlmIChhbGxQYW5lc0VubGlnaHRlbm1lbnQpIHtcclxuXHRcdFx0dGhpcy5jaGFuZ2VFbmxpZ2h0ZW5tZW50TW9kZSgnYWN0aXZlLXBhbmUnKTtcclxuXHRcdH0gZWxzZSBpZiAoYWN0aXZlUGFuZUVubGlnaHRlbm1lbnQpIHtcclxuXHRcdFx0dGhpcy5jaGFuZ2VFbmxpZ2h0ZW5tZW50TW9kZSgnaW5hY3RpdmUtcGFuZXMnKTtcclxuXHRcdH0gZWxzZSBpZiAoaW5hY3RpdmVQYW5lc0VubGlnaHRlbm1lbnQpIHtcclxuXHRcdFx0dGhpcy5jaGFuZ2VFbmxpZ2h0ZW5tZW50TW9kZSgnbm9uZScpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5jaGFuZ2VFbmxpZ2h0ZW5tZW50TW9kZSgnYWxsLXBhbmVzJyk7XHJcblx0XHR9XHJcblx0XHRcclxuXHR9XHJcblxyXG5cdGNoYW5nZUVubGlnaHRlbm1lbnRNb2RlID0gKHNvbWVFbmxpZ2h0ZW5tZW50VHlwZSA6IEVubGlnaHRlbm1lbnRUeXBlKSA9PiB7XHJcblx0XHRjb25zdCBib2R5RWxlbWVudCA9IGRvY3VtZW50LmJvZHk7XHJcblx0XHRib2R5RWxlbWVudC5yZW1vdmVDbGFzc2VzKFsncGx1Z2luLWVubGlnaHRlbm1lbnQtYWxsLXBhbmVzJywgJ3BsdWdpbi1lbmxpZ2h0ZW5tZW50LWFjdGl2ZS1wYW5lJywgJ3BsdWdpbi1lbmxpZ2h0ZW5tZW50LWluYWN0aXZlLXBhbmVzJ10pOyBcclxuXHRcdGlmIChzb21lRW5saWdodGVubWVudFR5cGUgPT0gJ2FsbC1wYW5lcycpIHtcclxuXHRcdFx0Ym9keUVsZW1lbnQuYWRkQ2xhc3MoJ3BsdWdpbi1lbmxpZ2h0ZW5tZW50LWFsbC1wYW5lcycpO1xyXG5cdFx0XHRuZXcgTm90aWNlKFwiRW5saWdodGVubWVudCBlbmFibGVkIGFjcm9zcyBhbGwgcGFuZXMuXCIpO1xyXG5cdFx0fSBlbHNlIGlmIChzb21lRW5saWdodGVubWVudFR5cGUgPT0gJ2FjdGl2ZS1wYW5lJykge1xyXG5cdFx0XHRib2R5RWxlbWVudC5hZGRDbGFzcygncGx1Z2luLWVubGlnaHRlbm1lbnQtYWN0aXZlLXBhbmUnKTtcclxuXHRcdFx0bmV3IE5vdGljZShcIkVubGlnaHRlbm1lbnQgZW5hYmxlZCBvbmx5IGZvciB0aGUgYWN0aXZlIHBhbmUuXCIpO1xyXG5cdFx0fSBlbHNlIGlmIChzb21lRW5saWdodGVubWVudFR5cGUgPT0gJ2luYWN0aXZlLXBhbmVzJykge1xyXG5cdFx0XHRib2R5RWxlbWVudC5hZGRDbGFzcygncGx1Z2luLWVubGlnaHRlbm1lbnQtaW5hY3RpdmUtcGFuZXMnKTtcclxuXHRcdFx0bmV3IE5vdGljZShcIkVubGlnaHRlbm1lbnQgZW5hYmxlZCBvbmx5IGZvciBpbmFjdGl2ZSBwYW5lcy5cIik7XHJcblx0XHR9IGVsc2UgaWYgKHNvbWVFbmxpZ2h0ZW5tZW50VHlwZSA9PSAnbm9uZScpIHtcclxuXHRcdFx0bmV3IE5vdGljZShcIkVubGlnaHRlbm1lbnQgZGlzYWJsZWQuXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdCAgfVxyXG5cdCAgXHJcbn1cclxuXHJcbmNsYXNzIEVubGlnaHRlbm1lbnRTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogRW5saWdodGVubWVudFBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogRW5saWdodGVubWVudFBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0bGV0IHtjb250YWluZXJFbH0gPSB0aGlzO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywge3RleHQ6ICdFbmxpZ2h0ZW5tZW50IFNldHRpbmdzJ30pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnQmFja2dyb3VuZCBUcmFuc3BhcmVuY3knKVxyXG5cdFx0XHQuc2V0RGVzYygnU2V0IHRoZSB0cmFuc3BhcmVuY3kgZm9yIGl0ZW1zIGluIHRoZSBiYWNrZ3JvdW5kLiBUaGUgZGVmYXVsdCBpcyAuNywgYXMgaW4gXCI3MCVcIi4gKDAgPSAwJSwgMSA9IDEwMCUuKS4nKVxyXG5cdFx0XHQuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcclxuXHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxyXG5cdFx0XHRcdC5zZXRMaW1pdHMoMCwgMSwgLjA1KVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5iYWNrZ3JvdW5kVHJhbnNwYXJlbmN5KVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAodmFsdWUpO1xyXG5cdFx0XHRcdFx0bGV0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcblx0XHRcdFx0XHRyb290LnN0eWxlLnNldFByb3BlcnR5KCctLWVubGlnaHRlbm1lbnQtYmFja2dyb3VuZC10cmFuc3BhcmVuY3knLCB2YWx1ZS50b1N0cmluZygpKTtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcocm9vdC5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwiLS1lbmxpZ2h0ZW5tZW50LWJhY2tncm91bmQtdHJhbnNwYXJlbmN5XCIpKTtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ0ZvY3VzIE9wYWNpdHknKVxyXG5cdFx0XHQuc2V0RGVzYygnU2V0IHRoZSBvcGFjaXR5IGZvciBpdGVtcyB5b3VcXCdyZSBmb2N1c2luZyBvbi4gVGhlIGRlZmF1bHQgaXMgMSwgYXMgaW4gXCIxMDAlXCIuICguNSA9IDUwJSkuJylcclxuXHRcdFx0LmFkZFNsaWRlcihzbGlkZXIgPT4gc2xpZGVyXHJcblx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcclxuXHRcdFx0XHQuc2V0TGltaXRzKDAsIDEsIC4wNSlcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9jdXNPcGFjaXR5KVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvY3VzT3BhY2l0eSA9ICh2YWx1ZSk7XHJcblx0XHRcdFx0XHRsZXQgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuXHRcdFx0XHRcdHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tZW5saWdodGVubWVudC1mb2N1cy1vcGFjaXR5JywgdmFsdWUudG9TdHJpbmcoKSk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKHJvb3Quc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcIi0tZW5saWdodGVubWVudC1mb2N1cy1vcGFjaXR5XCIpKTtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHRcdFx0fVxyXG59Il0sIm5hbWVzIjpbImFkZEljb24iLCJQbHVnaW4iLCJOb3RpY2UiLCJQbHVnaW5TZXR0aW5nVGFiIiwiU2V0dGluZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXVEQTtBQUNPLFNBQVMsU0FBUyxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRTtBQUM3RCxJQUFJLFNBQVMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLE9BQU8sS0FBSyxZQUFZLENBQUMsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsVUFBVSxPQUFPLEVBQUUsRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtBQUNoSCxJQUFJLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLE9BQU8sQ0FBQyxF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
